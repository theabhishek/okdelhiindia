{% extends 'base/base.html' %}

{% block title %}Create Subreddit - Reddit Clone{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-100 flex items-center justify-center"> <div class="container mx-auto px-4 py-12"> <div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-xl shadow-lg p-8 border-t-4 border-t-reddit"> <h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">Create a Community</h1> <form method="post" enctype="multipart/form-data" class="space-y-8"> {% csrf_token %}

            <div class="space-y-6"> <div>
                    <label for="{{ form.name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Name</label> <div class="mt-1">
                        <div class="flex rounded-md shadow-sm border border-gray-300 focus-within:border-reddit focus-within:ring-1 focus-within:ring-reddit"> <span class="inline-flex items-center px-3 rounded-l-md border-r border-gray-300 bg-gray-50 text-gray-500 text-sm">
                                D/
                            </span>
                            {{ form.name }} </div>
                    </div>
                    {% if form.name.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ form.name.errors.0 }}</p>
                    {% endif %}
                    <p class="mt-2 text-xs text-gray-500">Community names cannot be changed.</p> </div>

                <div>
                    <label for="{{ form.description.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                    <div class="mt-1">
                         {{ form.description }} </div>
                    {% if form.description.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ form.description.errors.0 }}</p>
                    {% endif %}
                </div>

                <div>
                    <label for="{{ form.icon.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Icon</label>
                    <div class="mt-1">
                         {{ form.icon }} </div>
                    {% if form.icon.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ form.icon.errors.0 }}</p>
                    {% endif %}
                    <p class="mt-2 text-xs text-gray-500">Upload a square image (e.g., 256x256px).</p>
                </div>

                <div>
                    <label for="{{ form.banner.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Banner</label>
                    <div class="mt-1">
                        {{ form.banner }} </div>
                    {% if form.banner.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ form.banner.errors.0 }}</p>
                    {% endif %}
                    <p class="mt-2 text-xs text-gray-500">Upload a banner image (e.g., 1920x384px).</p>
                </div>
            </div>

            <div class="flex justify-end space-x-3 pt-6 border-t border-gray-200 mt-8"> <a href="{% url 'core:home' %}" class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"> Cancel
                </a>
                <button type="submit" class="px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-reddit hover:bg-reddit-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-reddit"> Create Subreddit
                </button>
            </div>
        </form>
    </div>
</div>
</div>
</div>
<script>
    // Add Tailwind classes to form fields
    document.addEventListener('DOMContentLoaded', function() {
        const nameInput = document.getElementById('{{ form.name.id_for_label }}');
        const descriptionInput = document.getElementById('{{ form.description.id_for_label }}');
        const iconInput = document.getElementById('{{ form.icon.id_for_label }}');
        const bannerInput = document.getElementById('{{ form.banner.id_for_label }}');

        if (nameInput) {
            nameInput.className = 'flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-reddit focus:border-reddit sm:text-sm';
        }
        if (descriptionInput) {
            descriptionInput.className = 'shadow-sm block w-full border border-gray-300 rounded-md focus:ring-reddit focus:border-reddit sm:text-sm';
        }
        if (iconInput) {
            iconInput.className = 'block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-reddit file:text-white hover:file:bg-reddit-dark';
        }
        if (bannerInput) {
            bannerInput.className = 'block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-reddit file:text-white hover:file:bg-reddit-dark';
        }
    });
</script>
{% endblock %} 